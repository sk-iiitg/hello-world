name: Deploy
on:
  workflow_dispatch: {}
  workflow_call: {}
  push:
    branches-ignore:
      - master # Deploys happen before merge with bors.
  merge_group:
jobs:
  RETRY:
    name: retry job with
    runs-on: ubuntu-latest
    steps:
      - name: Kar lo retry
        uses: nick-fields/retry@v2
        with:
          timeout_minutes: 120
          max_attempts: 2
          retry_on: error
          command: |
            echo "hello"
  check_pr_labels_job:
    runs-on: ubuntu-latest
    name: A job to check the PR labels contain given labels
    steps:
    - name: Check PR labels action step
      id: check_pr_labels
      uses: shioyang/check-pr-labels-on-push-action@v1.0.9
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        labels: '["enhancement"]'
      timeout-minutes: 5
    - name: See result
      run: echo "${{ steps.check_pr_labels.outputs.result }}"         
  
